(function(b){var j=videojs.getComponent("Component"),c=videojs.getComponent("Button"),i,g,f,e,h,a,d;i=videojs.extend(c,{constructor:function(){c.apply(this,arguments);this.addClass("vjs-share-button");this.controlText("Share")},handleClick:function(){var k=this.player_,l=k.getChild("ShareContainer");l.show();k.pause()}});videojs.registerComponent("ShareButton",i);g=videojs.extend(c,{constructor:function(){c.apply(this,arguments)},createEl:function(l,k){var m=videojs.dom.createEl("i",{className:this.buildCSSClass()});m.appendChild(videojs.dom.createEl("span",{innerHTML:this.options_.text||"Need Text"}));return m},buildCSSClass:function(){return"vjs-share-icon fa fa-"+this.options_.icon+"-square fa-5x"},handleClick:function(){if(b.isFunction(this.options_.click)){this.options_.click()}}});videojs.registerComponent("OverlaySocialButton",g);e=videojs.extend(c,{constructor:function(){c.apply(this,arguments)},createEl:function(m,l){var k=videojs.dom.createEl("i",{className:this.buildCSSClass()});k.appendChild(videojs.dom.createEl("span",{innerHTML:this.options_.text||"Need Text"}));return k},buildCSSClass:function(){return"vjs-overlay-button fa fa-"+this.options_.icon+" fa-2x"}});f=videojs.extend(e,{constructor:function(k){e.apply(this,arguments)},handleClick:function(){if(b.isFunction(this.options_.click)){this.options_.click()}}});videojs.registerComponent("CopyButton",f);a=videojs.extend(j,{constructor:function(){j.apply(this,arguments);this.addChild("CopyButton",{text:"Copy to Clipboard",icon:"clipboard",playerId:this.player_.id_,click:function(){var m=b("#"+this.playerId+" .vjs-detail-link"),k=b("#"+this.playerId+" .vjs-sharing-detail-label");m.select();try{document.execCommand("copy");k.html("Detail Link : Copied!");m.blur()}catch(l){}}})},createEl:function(n,o){var m=videojs.dom.createEl("div",{className:"vjs-sharing-detail"}),k=videojs.dom.createEl("div",{className:"vjs-sharing-detail-content"}),l=videojs.dom.createEl("div",{className:"vjs-sharing-detail-label",innerHTML:"Detail Link"}),p=videojs.dom.createEl("input",{className:"vjs-detail-link"},{type:"text",value:this.player_.options.detailUrl});this.contentEl_=k;m.appendChild(this.contentEl_);this.contentEl_.insertBefore(l,this.contentEl_.firstChild);this.contentEl_.appendChild(p);return m}});videojs.registerComponent("DetailContainer",a);d=videojs.extend(j,{constructor:function(){j.apply(this,arguments);this.addChild("CopyButton",{text:"Copy to Clipboard",icon:"clipboard",playerId:this.player_.id_,click:function(){var m=b("#"+this.playerId+" .vjs-embed-code"),k=b("#"+this.playerId+" .vjs-embed-detail-label");m.select();try{document.execCommand("copy");k.html("Embed Code : Copied!");m.blur()}catch(l){}}})},createEl:function(n,o){var m=videojs.dom.createEl("div",{className:"vjs-embed-detail"}),k=videojs.dom.createEl("div",{className:"vjs-embed-detail-content"}),l=videojs.dom.createEl("div",{className:"vjs-embed-detail-label",innerHTML:"Embed Code"}),p=videojs.dom.createEl("input",{className:"vjs-embed-code"},{type:"text",value:'<iframe width="560" height="315" src="'+this.player_.options.detailUrl+'/embed" frameborder="0" allowfullscreen></iframe>'});this.contentEl_=k;m.appendChild(this.contentEl_);this.contentEl_.insertBefore(l,this.contentEl_.firstChild);this.contentEl_.appendChild(p);return m}});videojs.registerComponent("EmbedContainer",d);h=videojs.extend(j,{constructor:function(){j.apply(this,arguments);this.addChild("OverlaySocialButton",{text:"Twitter",icon:"twitter",playerId:this.player_.id_,detailUrl:this.player_.options.detailUrl,click:function(){var l=this.detailUrl,m=b("#"+this.playerId);if(!l){l=m.data("detailUrl")}window.open("https://twitter.com/intent/tweet?url="+encodeURI(l))}});this.addChild("OverlaySocialButton",{text:"Facebook",icon:"facebook",playerId:this.player_.id_,detailUrl:this.player_.options.detailUrl,click:function(){var l=this.detailUrl,m=b("#"+this.playerId);if(!l){l=m.data("detailUrl")}window.open("https://www.facebook.com/dialog/share?app_id=156139594939032&display=page&href="+encodeURI(l))}});this.addChild("DetailContainer",{});this.addChild("EmbedContainer",{});var k=this.addChild("CloseButton",{});this.on(k,"close",this.close)},createEl:function(m,n){var l=videojs.dom.createEl("div",{className:"vjs-sharing-overlay"}),k=videojs.dom.createEl("div",{className:"vjs-sharing-container"});this.contentEl_=k;l.appendChild(this.contentEl_);return l},show:function(){var k=b("#"+this.player_.id_);k.find("."+this.el_.className).show();k.addClass("vjs-show-sharing")},close:function(){var k=b("#"+this.player_.id_);k.find("."+this.el_.className).hide();k.removeClass("vjs-show-sharing");if(!k.hasClass("vjs-ended")){this.player_.play()}}});videojs.registerComponent("ShareContainer",h);videojs.initShareing=function(){var k=b(".video-js");k.each(function(){var r=b(this),l=r.attr("id"),p=parseInt(l.split("_")[1],10),n=videojs(l),o=true,m=r.attr("share-app-domain")||location.origin,q=r.closest("#media-viewer");if(window.onMessage){m=onMessage.settings.AppDomain}if(r.data("IsPublic")===undefined){r.data("IsPublic",o)}if(q.length>0){if(q.data("IsPublic")===undefined){q.data("IsPublic",o)}}if(q.length>0){o=q.data("IsPublic")}else{o=r.data("IsPublic")}n.options.detailUrl=m+"/app/detail/video/"+p;r.data("detailUrl",m+"/app/detail/video/"+p);if(!r.parent().hasClass("vjs-controls-disabled")&&o){n.addChild("ShareContainer",{});n.addChild("ShareButton",{})}})};videojs.initShareing()})(jQuery);